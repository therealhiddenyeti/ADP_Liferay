---
- hosts: all
  gather_facts: no

  vars:

    ansible_python_interpreter: /usr/bin/python3
    liferay_dir: "/home/wasprofile/liferay01/liferay/"
    osgi_jar: "liferay-ce-portal-osgi-7.4.3.80-ga80-20230605121335720.zip"

  tasks:
  
  - name: create liferay_dir directory
    file:
      path: "{{liferay_dir}}"
      state: directory
      mode: '0755'
    become: yes
    become_user: wasadmin

  - name: move file to liferay_dir
    ansible.builtin.command: cp /tmp/{{ osgi_jar }} {{ liferay_dir }}
    become: yes
    become_user: wasadmin
    args:
      chdir: /home/wasprofile/liferay01/
